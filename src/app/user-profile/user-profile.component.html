
<div *ngIf="!editingMode; else editMode">
    <h2>User Profile</h2>
    <p><strong>Username:</strong> {{ userProfile.Username }}</p>
    <p><strong>Email:</strong> {{ userProfile.Email }}</p>
    <h3>Favorite Movies:</h3>
    <div class="movie-cards">
      <mat-card *ngFor="let favoriteMovie of favorites" class="movie-card">
        <mat-card-header>
          <mat-card-title>{{ favoriteMovie.Title }}</mat-card-title>
          <mat-card-subtitle>Directed by: {{ favoriteMovie.Director.Name }}</mat-card-subtitle>
        </mat-card-header>
        <img mat-card-image [src]="favoriteMovie.ImagePath" alt="{{ favoriteMovie.Title }}">
        <mat-card-content>
          {{ favoriteMovie.Description }}
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" (click)="openDialog('details', favoriteMovie)">
            Details
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
    <button mat-button color="primary" (click)="enableEditingMode()">Edit Profile</button>
    <button mat-button color="primary" (click)="goBackToMovies()">Back to Movies</button>
  </div>
  
  <ng-template #editMode>
    <h2>Edit Profile</h2>
    <form (ngSubmit)="updateUserProfile()" #profileForm="ngForm">
      <label for="username">Username:</label>
      <input type="text" id="username" [(ngModel)]="userProfile.Username" name="username" required>
  
      <label for="email">Email:</label>
      <input type="email" id="email" [(ngModel)]="userProfile.Email" name="email" required>
  
      <button mat-button color="primary" type="submit">Save Changes</button>
      <button mat-button color="warn" (click)="cancelEditing()">Cancel</button>
    </form>
  </ng-template>
  